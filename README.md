# Многопоточный парсер сайтов с тестами для инженеров промышленной безопасности

### Используемые технологии:
+ Spring Boot (Apache POI, Swagger, Micrometr, Actuator) 
+ Selenium

### Описание проекта:
Бизнес задача стояла следующая: 
1. Пройти на сайтах тесты и скачать (вопросы, варианты овтетов и номера верных ответов). Общее количество тестовых вопросов исчесляется тысячами
2. Было выбрано 2 сайта конкурентов для парсинга tests24.ru и tests24.su
3. Данные должны быть упакованы в нестандартный вид в экселе, для последующего импорта на учебный портал организации

### Трудности, с которыми пришлось столкнуться.

+ Сайт очень медленно выгружал каждый следующий вопрос теста (Вариант защиты от парсинга) Для решения этой проблемы Selenium вырезает js код разработчиков сайта и вставляет мой, чтобы сразу прыгнуть к результатам.
+ У второго сайта верные варианты ответа подсвечивались "зеленым". Это единственный признак, по которому можно узнать верный ответ через код. Оттенок зеленого постоянно меняется на сайте (Защита от парсинга). Мною был написан код, распознающий диапазоны зеленых оттенков, для автоматического определения какой ответ верный.
+ Изначально задача по парсингу стояла для одного сайта. Потом Код был полностью переписан с возможностью наследования основного функционала и запуском в несколько потоков.
+ В качестве клиента используется Swagger

![](http://dl3.joxi.net/drive/2021/10/08/0011/2247/780487/87/1a973feaac.jpg)

# Монторинг

У приложения включил мониторинг. Actuator отдает данные о приложении в Prometeus, Micrometr и в итоге данные о приложение отображаются через Grafana 
Мой мануал по установке системы мониторинга приложения на [googledoc](https://docs.google.com/document/d/1Zl5nHzSPLsCKY8rHVwhi1QiMc9Z-PNDB_vssqsViSmk/edit) 

![](http://dl4.joxi.net/drive/2021/10/08/0011/2247/780487/87/81133ab4d3.jpg)
